import {
  FieldWrapper,
  FileInput,
  SelectInput,
  TextareaInput,
  TextInput,
} from ".";

const CustomInputField = (props) => {
  const { type = "text", field, index = "0" } = props;
  const id = `${field}${index}`;
  const componentMap = {
    text: <TextInput {...props} id={id} />,
    textarea: <TextareaInput {...props} id={id} />,
    select: <SelectInput {...props} id={id} />,
    file: <FileInput {...props} id={id} />,
  };
  return (
    <FieldWrapper
      id={id}
      css={props.css}
      placeholder={props.placeholder}
      error={props.error}
      required={props.rqd}
      icon={props.icon}
      readOnly={props.readOnly}
      type={type}
    >
      {componentMap[type] || <TextInput {...props} id={id} />}
      {props.extraComponent}
    </FieldWrapper>
  );
};

export default CustomInputField;


      <div className="grid sm:grid-cols-2 grid-cols-1 gap-3">
          {contactData.map((item) => (
            <div key={item.field} className="flex gap-2">
              {item.field === "phone" && (
                <CountryDropdown
                  selectedCountry={selectedCountry}
                  showDropdown={showCountryDropdown}
                  filteredCountries={filteredCountries}
                  searchValue={countrySearch}
                  onToggle={toggleDropdown}
                  onCountrySelect={handleCountrySelect}
                  onSearchChange={updateSearch}
                  buttonClassName="rounded-xl"
                  className="mt-6"
                />
              )}
              <CustomInputField
                {...item}
                error={error[item.field]}
                value={formData[item.field]}
                onChange={(e) => onChangeField(item.field, e, item?.rqd)}
              />
            </div>
          ))}
        </div>



  const contactData = [
    {
      type: "text",
      field: "name",
      placeholder: "Full Name",
      rqd: true,
      icon: FaUser,
    },
    {
      type: "number",
      field: "phone",
      rqd: true,
      placeholder: "Phone Number",
    },
    emailField(),
    {
      field: "subject",
      type: "select",
      placeholder: "Subject",
      options: [
        { value: "technicalSupport", label: "Technical Support" },
        { value: "billingInquiry", label: "Billing Inquiry" },
        { value: "featureRequest", label: "Feature Request" },
        { value: "businessPartnership", label: "Business Partnership" },
        { value: "generalInquiry", label: "General Inquiry" },
      ],
      rqd: true,
    },
    {
      type: "textarea",
      field: "message",
      placeholder: "Write your message here",
      rqd: true,
    },
  ];

"use client";
import { FaRegEye, FaRegEyeSlash } from "react-icons/fa";
import { TbLockPassword } from "react-icons/tb";
import { BsEnvelopeAt } from "react-icons/bs";
const emailField = (readOnly = false) => ({
  type: "text",
  field: "email",
  placeholder: "E-mail",
  icon: BsEnvelopeAt,
  readOnly,
  rqd: true,
});

const passwordField = (showPass, field, preventSpace) => ({
  type: showPass ? "text" : "password",
  field,
  placeholder: `${field}`,
  icon: TbLockPassword,
  passwordimg: showPass ? FaRegEye : FaRegEyeSlash,
  onKeyPress: preventSpace,
  rqd: true,
});

export { emailField, passwordField };



import React, { useEffect, useRef } from "react";

export default function Modal({
  isOpen,
  onClose,
  children,
  className = "",
  positionClass = "items-center justify-center",
  closeOnOutsideClick = true,
}) {
  const modalRef = useRef();

  useEffect(() => {
    const handle = (e) => {
      if (!closeOnOutsideClick) return;
      if (e.type === "keydown" && e.key === "Escape") onClose();
      if (e.type === "mousedown" && !modalRef.current?.contains(e.target))
        onClose();
    };
    document.addEventListener("keydown", handle);
    document.addEventListener("mousedown", handle);
    return () => {
      document.removeEventListener("keydown", handle);
      document.removeEventListener("mousedown", handle);
    };
  }, [onClose, closeOnOutsideClick]);

  return isOpen ? (
    <div
      className={`fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex ${positionClass}`}
      role="dialog"
      aria-modal="true"
    >
      <div ref={modalRef} className={className}>
        {children}
      </div>
    </div>
  ) : null;
}

