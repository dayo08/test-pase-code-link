"use client";
import { fetchClientBusinessProfile } from "@/src/redux/features/enterprise/client/clientThunks";
import { useParams } from "next/navigation";
import React, { useEffect } from "react";
import { useDispatch, useSelector } from "react-redux";

export default function BusinessProfile() {
  const dispatch = useDispatch();
  const { id } = useParams();
  const { clientBusinessProfile, loading } = useSelector(
    (state) => state.enterpriseClient,
  );

  useEffect(() => {
    if (id && !clientBusinessProfile) {
      dispatch(fetchClientBusinessProfile({ id }));
    }
  }, [dispatch, id, clientBusinessProfile]);

  console.log(clientBusinessProfile)
  return <div>page</div>;
}



import mongoose, { Schema } from "mongoose";
import { AccountStatus, ClientType } from "../utils/enums/index.js";

const profileSchema = new Schema(
  {
    companyName: { type: String },
    aboutCompany: { type: String },
    countryCode: { type: String },
    countryDialCode: { type: String },
    countryName: { type: String },
    mobileNumber: { type: String },
    emailId: { type: String },
    websiteLink: { type: String },
    colorThemeCode: { type: String },
    profilePhoto: { type: String },
    coverPhoto: { type: String },
    fb: { type: String },
    instagram: { type: String },
    x: { type: String },
    youTube: { type: String },
    whatsapp: { type: String },
    pinterest: { type: String },
    behance: { type: String },
    setupProgress: { type: Number, default: 0 },
    isSetupComplete: { type: Boolean, default: false },
    clientType: {
      type: String,
      enum: Object.values(ClientType),
      required: true,
    },
    clientId: {
      type: Schema.Types.ObjectId,
      required: true,
      refPath: "clientTypeModel",
    },
    clientTypeModel: {
      type: String,
      enum: ["photographerClient", "enterpriseClient"],
      required: true,
    },
    status: {
      type: String,
      enum: Object.values(AccountStatus),
      default: "activate",
    },
    clientId: { type: Schema.Types.ObjectId, ref: "client" },
    deletedAt: { type: Date, default: null },
  },
  { timestamps: true }
);
profileSchema.index({ clientId: 1 });

export default mongoose.model("profile", profileSchema);



